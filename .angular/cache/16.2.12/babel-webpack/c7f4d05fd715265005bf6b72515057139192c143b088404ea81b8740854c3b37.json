{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nexport let AppComponent = class AppComponent {\n  constructor(fb, appService) {\n    this.fb = fb;\n    this.appService = appService;\n    this.currency = \"$\";\n    this.loaderShowed = true;\n    this.loader = true;\n    this.form = this.fb.group({\n      order: [\"\", Validators.required],\n      name: [\"\", Validators.required],\n      phone: [\"\", Validators.required]\n    });\n  }\n  ngOnInit() {\n    setTimeout(() => {\n      this.loaderShowed = false;\n    }, 3000);\n    setTimeout(() => {\n      this.loader = false;\n    }, 4000);\n    this.appService.getData().subscribe(data => this.productsData = data);\n  }\n  scrollTo(target, burger) {\n    target.scrollIntoView({\n      behavior: \"smooth\"\n    });\n    if (burger) {\n      this.form.patchValue({\n        order: burger.title + ' (' + burger.price + ' ' + this.currency + ')'\n      });\n    }\n  }\n  confirmOrder() {\n    if (this.form.valid) {\n      this.appService.sentOrder(this.form.value).subscribe({\n        next: response => {\n          alert(response.message);\n          this.form.reset();\n        },\n        error: response => {\n          alert(response.error.message);\n        }\n      });\n    }\n  }\n  changeCurrency() {\n    let newCurrency = \"$\";\n    let coefficient = 1;\n    if (this.currency === \"$\") {\n      newCurrency = \"₽\";\n      coefficient = 80;\n    } else if (this.currency === \"₽\") {\n      newCurrency = \"BYN\";\n      coefficient = 3;\n    } else if (this.currency === 'BYN') {\n      newCurrency = '€';\n      coefficient = 0.9;\n    } else if (this.currency === '€') {\n      newCurrency = '¥';\n      coefficient = 6.9;\n    }\n    this.currency = newCurrency;\n    this.productsData.forEach(item => {\n      item.price = +(item.basePrice * coefficient).toFixed(1);\n    });\n  }\n};\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})], AppComponent);","map":{"version":3,"names":["Component","Validators","AppComponent","constructor","fb","appService","currency","loaderShowed","loader","form","group","order","required","name","phone","ngOnInit","setTimeout","getData","subscribe","data","productsData","scrollTo","target","burger","scrollIntoView","behavior","patchValue","title","price","confirmOrder","valid","sentOrder","value","next","response","alert","message","reset","error","changeCurrency","newCurrency","coefficient","forEach","item","basePrice","toFixed","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/aleksandr/VScode/burgers/src/app/app.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { AppService } from './app.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  currency = \"$\";\n  loaderShowed = true;\n  loader = true;\n\n  orderImageStyle: any;\n  mainImageStyle: any;\n\n  form = this.fb.group({\n    order: [\"\", Validators.required],\n    name: [\"\", Validators.required],\n    phone: [\"\", Validators.required]\n  })\n\n  productsData: any;\n\n  constructor(private fb: FormBuilder, private appService: AppService) {\n\n  }\n\n  ngOnInit() {\n    setTimeout(() => {\n      this.loaderShowed = false;\n    }, 3000);\n    setTimeout(() => {\n      this.loader = false;\n    }, 4000);\n    this.appService.getData().subscribe(data => this.productsData = data);\n  }\n\n  scrollTo(target: HTMLElement, burger?: any) {\n    target.scrollIntoView({ behavior: \"smooth\" });\n    if (burger) {\n      this.form.patchValue({ order: burger.title + ' (' + burger.price + ' ' + this.currency + ')' });\n    }\n  }\n\n  confirmOrder() {\n    if (this.form.valid) {\n\n      this.appService.sentOrder(this.form.value)\n        .subscribe({\n            next: (response: any) => {\n              alert(response.message);\n              this.form.reset();\n            },\n            error: (response) => {\n              alert(response.error.message);\n            },\n          }\n        );\n      }\n    }\n\n\nchangeCurrency() {\n  let newCurrency = \"$\";\n  let coefficient = 1;\n\n  if (this.currency === \"$\") {\n    newCurrency = \"₽\";\n    coefficient = 80;\n  } else if (this.currency === \"₽\") {\n    newCurrency = \"BYN\";\n    coefficient = 3;\n  } else if (this.currency === 'BYN') {\n    newCurrency = '€';\n    coefficient = 0.9;\n  } else if (this.currency === '€') {\n    newCurrency = '¥';\n    coefficient = 6.9;\n  }\n\n  this.currency = newCurrency;\n\n  this.productsData.forEach((item: any) => {\n    item.price = +(item.basePrice * coefficient).toFixed(1);\n  })\n}\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}